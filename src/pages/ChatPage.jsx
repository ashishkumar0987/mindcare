import React, { useState, useEffect, useRef } from 'react';
import { useNavigate } from 'react-router-dom';

const ChatPage = () => {
  const navigate = useNavigate();
  const [messages, setMessages] = useState([
    { 
      id: 1, 
      sender: 'counselor', 
      text: '‡§®‡§Æ‡§∏‡•ç‡§§‡•á! ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•á ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§∏‡§Æ‡§∞‡•ç‡§•‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡§π‡§æ‡§Å ‡§π‡•Ç‡§Å‡•§ ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§ï‡•à‡§∏‡•á ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å?', 
      timestamp: new Date()
    }
  ]);
  const [inputMessage, setInputMessage] = useState('');
  const [isTyping, setIsTyping] = useState(false);
  const [sessionStarted, setSessionStarted] = useState(false);
  const [userName, setUserName] = useState('');
  const [showNameInput, setShowNameInput] = useState(false);
  const [assessmentMode, setAssessmentMode] = useState(false);
  const [currentAssessmentQuestion, setCurrentAssessmentQuestion] = useState(0);
  const [assessmentAnswers, setAssessmentAnswers] = useState([]);
  const [showAssessmentResult, setShowAssessmentResult] = useState(false);
  const messagesEndRef = useRef(null);
  const [suggestions, setSuggestions] = useState([
    "‡§Ü‡§ú ‡§Ü‡§™ ‡§ï‡•à‡§∏‡§æ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç?",
    "‡§ö‡§ø‡§Ç‡§§‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•Å‡§ù‡§æ‡§µ",
    "‡§Ö‡§µ‡§∏‡§æ‡§¶ ‡§ï‡•á ‡§≤‡§ï‡•ç‡§∑‡§£",
    "‡§ß‡•ç‡§Ø‡§æ‡§® ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§§‡§∞‡•Ä‡§ï‡•á",
    "‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£",
    "‡§∏‡•ã‡§®‡•á ‡§Æ‡•á‡§Ç ‡§™‡§∞‡•á‡§∂‡§æ‡§®‡•Ä"
  ]);

  const assessmentQuestions = [
    "‡§™‡§ø‡§õ‡§≤‡•á ‡§¶‡•ã ‡§π‡§´‡•ç‡§§‡•ã‡§Ç ‡§Æ‡•á‡§Ç, ‡§Ü‡§™ ‡§ï‡§ø‡§§‡§®‡•Ä ‡§¨‡§æ‡§∞ ‡§â‡§¶‡§æ‡§∏ ‡§Ø‡§æ ‡§®‡§ø‡§∞‡§æ‡§∂ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§ø‡§Ø‡§æ ‡§π‡•à?",
    "‡§™‡§ø‡§õ‡§≤‡•á ‡§¶‡•ã ‡§π‡§´‡•ç‡§§‡•ã‡§Ç ‡§Æ‡•á‡§Ç, ‡§Ü‡§™ ‡§ï‡§ø‡§§‡§®‡•Ä ‡§¨‡§æ‡§∞ ‡§ö‡•Ä‡§ú‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§∞‡•Å‡§ö‡§ø ‡§ñ‡•ã ‡§¶‡•Ä ‡§π‡•à?",
    "‡§™‡§ø‡§õ‡§≤‡•á ‡§¶‡•ã ‡§π‡§´‡•ç‡§§‡•ã‡§Ç ‡§Æ‡•á‡§Ç, ‡§Ü‡§™ ‡§ï‡§ø‡§§‡§®‡•Ä ‡§¨‡§æ‡§∞ ‡§®‡•Ä‡§Ç‡§¶ ‡§Æ‡•á‡§Ç ‡§™‡§∞‡•á‡§∂‡§æ‡§®‡•Ä ‡§π‡•Å‡§à ‡§π‡•à?",
    "‡§™‡§ø‡§õ‡§≤‡•á ‡§¶‡•ã ‡§π‡§´‡•ç‡§§‡•ã‡§Ç ‡§Æ‡•á‡§Ç, ‡§Ü‡§™ ‡§ï‡§ø‡§§‡§®‡•Ä ‡§¨‡§æ‡§∞ ‡§•‡§ï‡§æ‡§® ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡•Ä ‡§π‡•à?",
    "‡§™‡§ø‡§õ‡§≤‡•á ‡§¶‡•ã ‡§π‡§´‡•ç‡§§‡•ã‡§Ç ‡§Æ‡•á‡§Ç, ‡§Ü‡§™ ‡§ï‡§ø‡§§‡§®‡•Ä ‡§¨‡§æ‡§∞ ‡§ñ‡§æ‡§®‡•á ‡§ï‡•Ä ‡§á‡§ö‡•ç‡§õ‡§æ ‡§¨‡§¶‡§≤‡•Ä ‡§π‡•à?"
  ];

  const scrollToBottom = () => {
    messagesEndRef.current?.scrollIntoView({ behavior: "smooth" });
  };

  useEffect(() => {
    scrollToBottom();
  }, [messages]);

  // ‡§â‡§®‡•ç‡§®‡§§ AI ‡§ú‡•à‡§∏‡•á ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§è‡§Ç ‡§¶‡•á‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®
  const generateResponse = (userMessage) => {
    const message = userMessage.toLowerCase();
    
    // ‡§Ø‡•Ç‡§ú‡§∞ ‡§ï‡•á ‡§®‡§æ‡§Æ ‡§ï‡§æ ‡§™‡§§‡§æ ‡§≤‡§ó‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è
    if (!userName && (message.includes('‡§Æ‡•á‡§∞‡§æ ‡§®‡§æ‡§Æ') || message.includes('‡§Æ‡•à‡§Ç') && message.includes('‡§π‡•Ç‡§Å'))) {
      const nameMatch = message.match(/‡§Æ‡•á‡§∞‡§æ ‡§®‡§æ‡§Æ (\w+) ‡§π‡•à|‡§Æ‡•à‡§Ç (\w+) ‡§π‡•Ç‡§Å/);
      if (nameMatch) {
        const extractedName = nameMatch[1] || nameMatch[2];
        setUserName(extractedName);
        return `‡§®‡§Æ‡§∏‡•ç‡§§‡•á ${extractedName}! ‡§Ö‡§¨ ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•ã ‡§¨‡•á‡§π‡§§‡§∞ ‡§¢‡§Ç‡§ó ‡§∏‡•á ‡§∏‡§Æ‡§ù ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å‡•§ ‡§Ü‡§™ ‡§Ü‡§ú ‡§ï‡•à‡§∏‡§æ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç?`;
      }
    }
    
    // ‡§Ø‡§¶‡§ø ‡§Ø‡•Ç‡§ú‡§∞ ‡§Ö‡§™‡§®‡§æ ‡§®‡§æ‡§Æ ‡§¨‡§§‡§æ ‡§ö‡•Å‡§ï‡§æ ‡§π‡•à, ‡§§‡•ã ‡§®‡§æ‡§Æ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç
    const greeting = userName ? `${userName}, ` : '';
    
    // ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡•Ä‡§µ‡§∞‡•ç‡§° ‡§î‡§∞ ‡§â‡§®‡§ï‡•á ‡§â‡§§‡•ç‡§§‡§∞
    const responses = {
      // ‡§ö‡§ø‡§Ç‡§§‡§æ ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§è‡§Ç
      anxiety: [
        `${greeting}‡§ö‡§ø‡§Ç‡§§‡§æ ‡§è‡§ï ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§≠‡§æ‡§µ‡§®‡§æ ‡§π‡•à‡•§ ‡§Ø‡§π‡§æ‡§Å ‡§ï‡•Å‡§õ ‡§§‡§∞‡•Ä‡§ï‡•á ‡§π‡•à‡§Ç ‡§ú‡§ø‡§®‡§∏‡•á ‡§Ü‡§™ ‡§á‡§∏‡•á ‡§ï‡§Æ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç:\n\n1. ‡§ó‡§π‡§∞‡•Ä ‡§∏‡§æ‡§Ç‡§∏ ‡§≤‡•á‡§®‡•á ‡§ï‡§æ ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç\n2. ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è 5-4-3-2-1 ‡§§‡§ï‡§®‡•Ä‡§ï ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç\n3. ‡§®‡§ø‡§Ø‡§Æ‡§ø‡§§ ‡§µ‡•ç‡§Ø‡§æ‡§Ø‡§æ‡§Æ ‡§ï‡§∞‡•á‡§Ç\n4. ‡§™‡§∞‡•ç‡§Ø‡§æ‡§™‡•ç‡§§ ‡§®‡•Ä‡§Ç‡§¶ ‡§≤‡•á‡§Ç\n\n‡§Ø‡§¶‡§ø ‡§ö‡§ø‡§Ç‡§§‡§æ ‡§¨‡§π‡•Å‡§§ ‡§Ö‡§ß‡§ø‡§ï ‡§π‡•à, ‡§§‡•ã ‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§ï ‡§™‡•á‡§∂‡•á‡§µ‡§∞ ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§\n\n‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§¨‡§§‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§Ü‡§™‡§ï‡•ã ‡§µ‡§ø‡§∂‡•á‡§∑ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§ï‡§ø‡§® ‡§∏‡•ç‡§•‡§ø‡§§‡§ø‡§Ø‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ö‡§ø‡§Ç‡§§‡§æ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à?`,
        `${greeting}‡§ö‡§ø‡§Ç‡§§‡§æ ‡§ï‡•ã ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§Ü‡§™ ‡§á‡§® ‡§§‡§ï‡§®‡•Ä‡§ï‡•ã‡§Ç ‡§ï‡•Ä ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç:\n\n‚Ä¢ ‡§Ö‡§™‡§®‡•Ä ‡§ö‡§ø‡§Ç‡§§‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§≤‡§ø‡§ñ‡•á‡§Ç\n‚Ä¢ ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§≠‡§Ç‡§ó ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏ ‡§ï‡§∞‡•á‡§Ç\n‚Ä¢ ‡§∏‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï ‡§∏‡•ã‡§ö ‡§™‡§∞ ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç\n‚Ä¢ ‡§¶‡•ã‡§∏‡•ç‡§§‡•ã‡§Ç ‡§Ø‡§æ ‡§™‡§∞‡§ø‡§µ‡§æ‡§∞ ‡§ï‡•á ‡§∏‡§æ‡§• ‡§¨‡§æ‡§§ ‡§ï‡§∞‡•á‡§Ç\n\n‡§Ø‡§æ‡§¶ ‡§∞‡§ñ‡•á‡§Ç, ‡§ö‡§ø‡§Ç‡§§‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡•Ä ‡§ú‡§æ ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡•§\n\n‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™‡§®‡•á ‡§™‡§π‡§≤‡•á ‡§ï‡•ã‡§à ‡§ê‡§∏‡•Ä ‡§§‡§ï‡§®‡•Ä‡§ï ‡§Ü‡§ú‡§º‡§Æ‡§æ‡§à ‡§π‡•à ‡§ú‡§ø‡§∏‡§∏‡•á ‡§Ü‡§™‡§ï‡•ã ‡§∞‡§æ‡§π‡§§ ‡§Æ‡§ø‡§≤‡•Ä ‡§π‡•ã?`
      ],
      
      // ‡§Ö‡§µ‡§∏‡§æ‡§¶ ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§è‡§Ç
      depression: [
        `${greeting}‡§Ö‡§µ‡§∏‡§æ‡§¶ ‡§è‡§ï ‡§ó‡§Ç‡§≠‡•Ä‡§∞ ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§π‡•à, ‡§≤‡•á‡§ï‡§ø‡§® ‡§á‡§∏‡§ï‡§æ ‡§á‡§≤‡§æ‡§ú ‡§∏‡§Ç‡§≠‡§µ ‡§π‡•à‡•§ ‡§Ø‡§π‡§æ‡§Å ‡§ï‡•Å‡§õ ‡§∏‡•Å‡§ù‡§æ‡§µ ‡§π‡•à‡§Ç:\n\n1. ‡§®‡§ø‡§Ø‡§Æ‡§ø‡§§ ‡§¶‡§ø‡§®‡§ö‡§∞‡•ç‡§Ø‡§æ ‡§¨‡§®‡§æ‡§è‡§Ç ‡§∞‡§ñ‡•á‡§Ç\n2. ‡§õ‡•ã‡§ü‡•á ‡§≤‡§ï‡•ç‡§∑‡•ç‡§Ø ‡§®‡§ø‡§∞‡•ç‡§ß‡§æ‡§∞‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç\n3. ‡§∏‡§æ‡§Æ‡§æ‡§ú‡§ø‡§ï ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§Æ‡•á‡§Ç ‡§∞‡§π‡•á‡§Ç\n4. ‡§∂‡§æ‡§∞‡•Ä‡§∞‡§ø‡§ï ‡§ó‡§§‡§ø‡§µ‡§ø‡§ß‡§ø ‡§Æ‡•á‡§Ç ‡§∏‡§Ç‡§≤‡§ó‡•ç‡§® ‡§∞‡§π‡•á‡§Ç\n5. ‡§™‡•á‡§∂‡•á‡§µ‡§∞ ‡§Æ‡§¶‡§¶ ‡§≤‡•á‡§®‡•á ‡§Æ‡•á‡§Ç ‡§∏‡§Ç‡§ï‡•ã‡§ö ‡§® ‡§ï‡§∞‡•á‡§Ç\n\n‡§Ü‡§™ ‡§Ö‡§ï‡•á‡§≤‡•á ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡§Ç, ‡§Æ‡§¶‡§¶ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•à‡•§\n\n‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§¨‡§§‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§Ü‡§™‡§ï‡•ã ‡§Ö‡§µ‡§∏‡§æ‡§¶ ‡§ï‡§¨ ‡§∏‡•á ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§π‡•ã ‡§∞‡§π‡§æ ‡§π‡•à?`,
        `${greeting}‡§Ö‡§µ‡§∏‡§æ‡§¶ ‡§∏‡•á ‡§®‡§ø‡§™‡§ü‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è:\n\n‚Ä¢ ‡§Ö‡§™‡§®‡•Ä ‡§≠‡§æ‡§µ‡§®‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞‡•á‡§Ç\n‚Ä¢ ‡§õ‡•ã‡§ü‡•Ä ‡§ö‡•Ä‡§ú‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§ñ‡•Å‡§∂‡•Ä ‡§ñ‡•ã‡§ú‡•á‡§Ç\n‚Ä¢ ‡§∏‡§ï‡§æ‡§∞‡§æ‡§§‡•ç‡§Æ‡§ï ‡§≤‡•ã‡§ó‡•ã‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§∏‡§Æ‡§Ø ‡§¨‡§ø‡§§‡§æ‡§è‡§Ç\n‚Ä¢ ‡§Ö‡§™‡§®‡•Ä ‡§¶‡•á‡§ñ‡§≠‡§æ‡§≤ ‡§ï‡§æ ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§∞‡§ñ‡•á‡§Ç\n\n‡§Ø‡§¶‡§ø ‡§Ü‡§§‡•ç‡§Æ‡§π‡§§‡•ç‡§Ø‡§æ ‡§ï‡•á ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§Ü ‡§∞‡§π‡•á ‡§π‡•à‡§Ç, ‡§§‡•ã ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§Æ‡§¶‡§¶ ‡§≤‡•á‡§Ç‡•§\n\n‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™‡§ï‡•á ‡§ú‡•Ä‡§µ‡§® ‡§Æ‡•á‡§Ç ‡§ï‡•ã‡§à ‡§ê‡§∏‡•Ä ‡§ö‡•Ä‡§ú ‡§π‡•à ‡§ú‡•ã ‡§Ü‡§™‡§ï‡•ã ‡§™‡•ç‡§∞‡•á‡§∞‡§ø‡§§ ‡§ï‡§∞‡§§‡•Ä ‡§π‡•ã?`
      ],
      
      // ‡§§‡§®‡§æ‡§µ ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§è‡§Ç
      stress: [
        `${greeting}‡§§‡§®‡§æ‡§µ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡•á ‡§§‡§∞‡•Ä‡§ï‡•á ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡§∂‡§æ‡§≤‡•Ä ‡§π‡•à‡§Ç:\n\n1. ‡§ó‡§π‡§∞‡•Ä ‡§∏‡§æ‡§Ç‡§∏ ‡§≤‡•á‡§®‡§æ\n2. ‡§™‡•ç‡§∞‡§ó‡§§‡§ø‡§∂‡•Ä‡§≤ ‡§Æ‡§æ‡§Ç‡§∏‡§™‡•á‡§∂‡•Ä ‡§µ‡§ø‡§∂‡•ç‡§∞‡§æ‡§Æ\n3. ‡§Ø‡•ã‡§ó ‡§î‡§∞ ‡§ß‡•ç‡§Ø‡§æ‡§®\n4. ‡§∏‡§Æ‡§Ø ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§®\n5. ‡§Ü‡§∞‡§æ‡§Æ ‡§ï‡§∞‡§®‡§æ ‡§î‡§∞ ‡§∂‡•å‡§ï ‡§ï‡§∞‡§®‡§æ\n\n‡§®‡§ø‡§Ø‡§Æ‡§ø‡§§ ‡§Ö‡§≠‡•ç‡§Ø‡§æ‡§∏ ‡§∏‡•á ‡§§‡§®‡§æ‡§µ ‡§ï‡•ã ‡§ï‡§Æ ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§Æ‡§ø‡§≤‡§§‡•Ä ‡§π‡•à‡•§\n\n‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§¨‡§§‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§Ü‡§™‡§ï‡•á ‡§§‡§®‡§æ‡§µ ‡§ï‡§æ ‡§Æ‡•Å‡§ñ‡•ç‡§Ø ‡§ï‡§æ‡§∞‡§£ ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?`,
        `${greeting}‡§§‡§®‡§æ‡§µ ‡§ï‡•ã ‡§ï‡§Æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è:\n\n‚Ä¢ ‡§Ö‡§™‡§®‡•Ä ‡§∏‡•Ä‡§Æ‡§æ‡§è‡§Ç ‡§ú‡§æ‡§®‡•á‡§Ç\n‚Ä¢ '‡§®‡§æ' ‡§ï‡§π‡§®‡§æ ‡§∏‡•Ä‡§ñ‡•á‡§Ç\n‚Ä¢ ‡§∏‡§Æ‡§Ø ‡§®‡§ø‡§ï‡§æ‡§≤‡•á‡§Ç ‡§Ö‡§™‡§®‡•á ‡§≤‡§ø‡§è\n‚Ä¢ ‡§∞‡§ö‡§®‡§æ‡§§‡•ç‡§Æ‡§ï ‡§ó‡§§‡§ø‡§µ‡§ø‡§ß‡§ø‡§Ø‡§æ‡§Ç ‡§ï‡§∞‡•á‡§Ç\n\n‡§Ø‡§æ‡§¶ ‡§∞‡§ñ‡•á‡§Ç, ‡§§‡§®‡§æ‡§µ ‡§∏‡•á ‡§¨‡§ö‡§®‡§æ ‡§∏‡§Ç‡§≠‡§µ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à, ‡§≤‡•á‡§ï‡§ø‡§® ‡§á‡§∏‡•á ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à‡•§\n\n‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™‡§®‡•á ‡§ï‡•ã‡§à ‡§µ‡§ø‡§∂‡§ø‡§∑‡•ç‡§ü ‡§§‡§®‡§æ‡§µ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§§‡§ï‡§®‡•Ä‡§ï ‡§Ü‡§ú‡§º‡§Æ‡§æ‡§à ‡§π‡•à ‡§ú‡•ã ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡•Ä ‡§π‡•ã?`
      ],
      
      // ‡§®‡•Ä‡§Ç‡§¶ ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§è‡§Ç
      sleep: [
        `${greeting}‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§®‡•Ä‡§Ç‡§¶ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡•á ‡§∏‡•Å‡§ù‡§æ‡§µ ‡§â‡§™‡§Ø‡•ã‡§ó‡•Ä ‡§π‡•à‡§Ç:\n\n1. ‡§®‡§ø‡§Ø‡§Æ‡§ø‡§§ ‡§∏‡•ã‡§®‡•á ‡§î‡§∞ ‡§ú‡§æ‡§ó‡§®‡•á ‡§ï‡§æ ‡§∏‡§Æ‡§Ø ‡§®‡§ø‡§∞‡•ç‡§ß‡§æ‡§∞‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç\n2. ‡§∏‡•ã‡§®‡•á ‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§Æ ‡§ï‡§∞‡•á‡§Ç\n3. ‡§ï‡•à‡§´‡•Ä‡§® ‡§î‡§∞ ‡§ö‡§æ‡§Ø ‡§∏‡•á ‡§¨‡§ö‡•á‡§Ç\n4. ‡§∂‡§æ‡§Ç‡§§ ‡§î‡§∞ ‡§Ö‡§Ç‡§ß‡•á‡§∞‡•á ‡§µ‡§æ‡§≤‡•á ‡§ï‡§Æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§∏‡•ã‡§è‡§Ç\n5. ‡§∂‡§æ‡§Æ ‡§ï‡•ã ‡§π‡§≤‡•ç‡§ï‡§æ ‡§µ‡•ç‡§Ø‡§æ‡§Ø‡§æ‡§Æ ‡§ï‡§∞‡•á‡§Ç\n\n‡§Ø‡§¶‡§ø ‡§∏‡§Æ‡§∏‡•ç‡§Ø‡§æ ‡§¨‡§®‡•Ä ‡§∞‡§π‡•á, ‡§§‡•ã ‡§°‡•â‡§ï‡•ç‡§ü‡§∞ ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§\n\n‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§¨‡§§‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§Ü‡§™‡§ï‡•ã ‡§∞‡§æ‡§§ ‡§Æ‡•á‡§Ç ‡§∏‡•ã‡§®‡•á ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§∏ ‡§§‡§∞‡§π ‡§ï‡•Ä ‡§™‡§∞‡•á‡§∂‡§æ‡§®‡•Ä ‡§π‡•ã‡§§‡•Ä ‡§π‡•à?`,
        `${greeting}‡§®‡•Ä‡§Ç‡§¶ ‡§ï‡•Ä ‡§ó‡•Å‡§£‡§µ‡§§‡•ç‡§§‡§æ ‡§∏‡•Å‡§ß‡§æ‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è:\n\n‚Ä¢ ‡§¶‡§ø‡§® ‡§Æ‡•á‡§Ç ‡§ß‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§∏‡§Æ‡§Ø ‡§¨‡§ø‡§§‡§æ‡§è‡§Ç\n‚Ä¢ ‡§∂‡§æ‡§Æ ‡§ï‡•ã ‡§ó‡§∞‡•ç‡§Æ ‡§™‡§æ‡§®‡•Ä ‡§∏‡•á ‡§®‡§π‡§æ‡§®‡§æ\n‚Ä¢ ‡§∞‡§æ‡§§ ‡§ï‡•ã ‡§≠‡§æ‡§∞‡•Ä ‡§≠‡•ã‡§ú‡§® ‡§® ‡§ï‡§∞‡•á‡§Ç\n‚Ä¢ ‡§§‡§®‡§æ‡§µ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§§‡§ï‡§®‡•Ä‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡•á‡§Ç\n\n‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§®‡•Ä‡§Ç‡§¶ ‡§Ü‡§™‡§ï‡•á ‡§∏‡§Æ‡§ó‡•ç‡§∞ ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡•à‡•§\n\n‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™‡§®‡•á ‡§ï‡•ã‡§à ‡§®‡•Ä‡§Ç‡§¶ ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡•Ä ‡§ê‡§™ ‡§Ø‡§æ ‡§§‡§ï‡§®‡•Ä‡§ï ‡§Ü‡§ú‡§º‡§Æ‡§æ‡§à ‡§π‡•à ‡§ú‡•ã ‡§Ü‡§™‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡•Ä ‡§π‡•ã?`
      ],
      
      // ‡§Ü‡§§‡•ç‡§Æ‡§π‡§§‡•ç‡§Ø‡§æ ‡§∏‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§è‡§Ç (‡§¨‡§π‡•Å‡§§ ‡§π‡•Ä ‡§∏‡§Ç‡§µ‡•á‡§¶‡§®‡§∂‡•Ä‡§≤)
      suicide: [
        `${greeting}‡§Æ‡•à‡§Ç ‡§∏‡•Å‡§®‡§ï‡§∞ ‡§¨‡§π‡•Å‡§§ ‡§ö‡§ø‡§Ç‡§§‡§ø‡§§ ‡§π‡•Ç‡§Å ‡§ï‡§ø ‡§Ü‡§™ ‡§ê‡§∏‡§æ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§ú‡§æ‡§®‡•á‡§Ç ‡§ï‡§ø ‡§Ü‡§™ ‡§Ö‡§ï‡•á‡§≤‡•á ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§Æ‡§¶‡§¶ ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§π‡•à‡•§\n\n‡§§‡•Å‡§∞‡§Ç‡§§ ‡§Æ‡§¶‡§¶ ‡§™‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è:\n‚Ä¢ ‡§ï‡§ø‡§∞‡§£ ‡§Æ‡•á‡§Ç‡§ü‡§≤ ‡§π‡•á‡§≤‡•ç‡§™‡§≤‡§æ‡§á‡§®: 1800-599-0019 (24/7)\n‚Ä¢ ‡§µ‡§Ç‡§¶‡§®‡§æ ‡§´‡§æ‡§â‡§Ç‡§°‡•á‡§∂‡§®: +91 9152987821\n‚Ä¢ ‡§®‡§ø‡§ï‡§ü‡§§‡§Æ ‡§Ö‡§∏‡•ç‡§™‡§§‡§æ‡§≤ ‡§Ø‡§æ ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§ï‡•á‡§Ç‡§¶‡•ç‡§∞ ‡§™‡§∞ ‡§ú‡§æ‡§è‡§Ç\n\n‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡§ø‡§∏‡•Ä ‡§µ‡§ø‡§∂‡•ç‡§µ‡§∏‡§®‡•Ä‡§Ø ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§‡§ø ‡§∏‡•á ‡§¨‡§æ‡§§ ‡§ï‡§∞‡•á‡§Ç‡•§ ‡§Ü‡§™‡§ï‡§æ ‡§ú‡•Ä‡§µ‡§® ‡§ï‡•Ä‡§Æ‡§§‡•Ä ‡§π‡•à‡•§\n\n‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§Ö‡§≠‡•Ä ‡§ï‡§ø‡§∏‡•Ä ‡§ï‡•á ‡§∏‡§æ‡§• ‡§¨‡§æ‡§§ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç?`,
        `${greeting}‡§Ø‡§π ‡§∏‡•Å‡§®‡§ï‡§∞ ‡§Æ‡•Å‡§ù‡•á ‡§¨‡§π‡•Å‡§§ ‡§¶‡•Å‡§ñ ‡§π‡•Å‡§Ü‡•§ ‡§Ü‡§™‡§ï‡•Ä ‡§≠‡§æ‡§µ‡§®‡§æ‡§è‡§Ç ‡§Æ‡§æ‡§Ø‡§®‡•á ‡§∞‡§ñ‡§§‡•Ä ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§Ü‡§™‡§ï‡•ã ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§Æ‡§ø‡§≤‡§®‡•Ä ‡§ö‡§æ‡§π‡§ø‡§è‡•§\n\n‡§Ø‡§æ‡§¶ ‡§∞‡§ñ‡•á‡§Ç:\n‚Ä¢ ‡§Ø‡§π ‡§≠‡§æ‡§µ‡§®‡§æ ‡§Ö‡§∏‡•ç‡§•‡§æ‡§Ø‡•Ä ‡§π‡•à, ‡§≤‡•á‡§ï‡§ø‡§® ‡§Ü‡§§‡•ç‡§Æ‡§π‡§§‡•ç‡§Ø‡§æ ‡§∏‡•ç‡§•‡§æ‡§Ø‡•Ä ‡§π‡•à\n‚Ä¢ ‡§ê‡§∏‡•á ‡§ï‡§à ‡§≤‡•ã‡§ó ‡§π‡•à‡§Ç ‡§ú‡•ã ‡§á‡§∏‡•Ä ‡§≠‡§æ‡§µ‡§®‡§æ ‡§∏‡•á ‡§ó‡•Å‡§ú‡§∞‡•á ‡§π‡•à‡§Ç ‡§î‡§∞ ‡§Ö‡§¨ ‡§¨‡•á‡§π‡§§‡§∞ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞‡§§‡•á ‡§π‡•à‡§Ç\n‚Ä¢ ‡§™‡•á‡§∂‡•á‡§µ‡§∞ ‡§Æ‡§¶‡§¶ ‡§≤‡•á‡§®‡§æ ‡§∏‡§Ç‡§ï‡•á‡§§ ‡§ï‡•Ä ‡§ï‡§Æ‡§ú‡•ã‡§∞‡•Ä ‡§®‡§π‡•Ä‡§Ç, ‡§¨‡§≤‡•ç‡§ï‡§ø ‡§∏‡§æ‡§π‡§∏ ‡§ï‡§æ ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§® ‡§π‡•à\n\n‡§ï‡•É‡§™‡§Ø‡§æ ‡§§‡•Å‡§∞‡§Ç‡§§ ‡§ï‡§ø‡§∏‡•Ä ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§™‡•á‡§∂‡•á‡§µ‡§∞ ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§\n\n‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§Æ‡•Å‡§ù‡•á ‡§¨‡§§‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§Ü‡§™ ‡§ï‡§π‡§æ‡§Å ‡§π‡•à‡§Ç ‡§§‡§æ‡§ï‡§ø ‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•ã ‡§®‡§ú‡§¶‡•Ä‡§ï‡•Ä ‡§Æ‡§¶‡§¶ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡§ø‡§∞‡•ç‡§¶‡•á‡§∂‡§ø‡§§ ‡§ï‡§∞ ‡§∏‡§ï‡•Ç‡§Å?`
      ],
      
      // ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ‡§è‡§Ç
      general: [
        `${greeting}‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•Ä ‡§Æ‡§¶‡§¶ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Ø‡§π‡§æ‡§Å ‡§π‡•Ç‡§Å‡•§ ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§Ö‡§™‡§®‡•Ä ‡§≠‡§æ‡§µ‡§®‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§•‡•ã‡§°‡§º‡§æ ‡§î‡§∞ ‡§¨‡§§‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç?`,
        `${greeting}‡§Ø‡§π ‡§∏‡•Å‡§®‡§ï‡§∞ ‡§Ö‡§ö‡•ç‡§õ‡§æ ‡§≤‡§ó‡§æ‡•§ ‡§Ü‡§™ ‡§á‡§∏ ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§î‡§∞ ‡§¨‡§§‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§Ü‡§™ ‡§ï‡•ç‡§Ø‡§æ ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç?`,
        `${greeting}‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶ ‡§ï‡§ø ‡§Ü‡§™‡§®‡•á ‡§á‡§∏‡§ï‡•á ‡§∏‡§æ‡§• ‡§Æ‡•Å‡§ù‡•á ‡§∏‡§æ‡§ù‡§æ ‡§ï‡§ø‡§Ø‡§æ‡•§ ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§ï‡§ø‡§∏‡•Ä ‡§µ‡§ø‡§∂‡§ø‡§∑‡•ç‡§ü ‡§ö‡•Ä‡§ú ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§¨‡§æ‡§§ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡•á‡§Ç‡§ó‡•á?`,
        `${greeting}‡§Æ‡•à‡§Ç ‡§Ø‡§π‡§æ‡§Å ‡§∏‡•Å‡§®‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§π‡•Ç‡§Å‡•§ ‡§Ü‡§™ ‡§ú‡•ã ‡§≠‡•Ä ‡§Æ‡§π‡§∏‡•Ç‡§∏ ‡§ï‡§∞ ‡§∞‡§π‡•á ‡§π‡•à‡§Ç, ‡§â‡§∏‡•á ‡§¨‡§æ‡§π‡§∞ ‡§®‡§ø‡§ï‡§æ‡§≤‡§®‡§æ ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡•à‡•§\n\n‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§¨‡§§‡§æ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§Ü‡§™‡§ï‡•á ‡§Æ‡•Ç‡§° ‡§Æ‡•á‡§Ç ‡§π‡§æ‡§≤ ‡§π‡•Ä ‡§Æ‡•á‡§Ç ‡§ï‡•ã‡§à ‡§¨‡§¶‡§≤‡§æ‡§µ ‡§Ü‡§Ø‡§æ ‡§π‡•à?`
      ]
    };
    
    // ‡§∏‡§Ç‡§¨‡§Ç‡§ß‡§ø‡§§ ‡§ï‡•Ä‡§µ‡§∞‡•ç‡§° ‡§ï‡•Ä ‡§ú‡§æ‡§Ç‡§ö ‡§ï‡§∞‡•á‡§Ç
    if (message.includes('‡§Ü‡§§‡•ç‡§Æ‡§π‡§§‡•ç‡§Ø‡§æ') || message.includes('‡§ñ‡•Å‡§¶‡§ï‡•Å‡§∂‡•Ä') || message.includes('suicide') || message.includes('‡§ú‡•Ä‡§µ‡§® ‡§∏‡§Æ‡§æ‡§™‡•ç‡§§')) {
      return responses.suicide[Math.floor(Math.random() * responses.suicide.length)];
    } else if (message.includes('‡§ö‡§ø‡§Ç‡§§‡§æ') || message.includes('‡§ò‡§¨‡§∞‡§æ‡§π‡§ü') || message.includes('anxiety')) {
      return responses.anxiety[Math.floor(Math.random() * responses.anxiety.length)];
    } else if (message.includes('‡§Ö‡§µ‡§∏‡§æ‡§¶') || message.includes('‡§â‡§¶‡§æ‡§∏') || message.includes('depression')) {
      return responses.depression[Math.floor(Math.random() * responses.depression.length)];
    } else if (message.includes('‡§§‡§®‡§æ‡§µ') || message.includes('‡§¶‡§¨‡§æ‡§µ') || message.includes('stress')) {
      return responses.stress[Math.floor(Math.random() * responses.stress.length)];
    } else if (message.includes('‡§®‡•Ä‡§Ç‡§¶') || message.includes('‡§∏‡•ã‡§®‡§æ') || message.includes('sleep')) {
      return responses.sleep[Math.floor(Math.random() * responses.sleep.length)];
    } else {
      return responses.general[Math.floor(Math.random() * responses.general.length)];
    }
  };

  const handleSendMessage = (e) => {
    e.preventDefault();
    if (inputMessage.trim() === '') return;
    
    // ‡§Ø‡§¶‡§ø ‡§Ø‡§π ‡§™‡§π‡§≤‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§π‡•à, ‡§§‡•ã ‡§∏‡§§‡•ç‡§∞ ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç
    if (!sessionStarted) {
      setSessionStarted(true);
    }
    
    const newMessage = {
      id: messages.length + 1,
      sender: 'user',
      text: inputMessage,
      timestamp: new Date()
    };
    
    setMessages([...messages, newMessage]);
    setInputMessage('');
    setIsTyping(true);
    
    // AI ‡§ú‡•à‡§∏‡•á ‡§™‡•ç‡§∞‡§§‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è 1.5 ‡§∏‡•á‡§ï‡§Ç‡§° ‡§ï‡§æ ‡§∏‡§Æ‡§Ø
    setTimeout(() => {
      const response = generateResponse(inputMessage);
      
      setMessages(prev => [...prev, {
        id: prev.length + 1,
        sender: 'counselor',
        text: response,
        timestamp: new Date()
      }]);
      setIsTyping(false);
    }, 1500);
  };

  const handleSuggestionClick = (suggestion) => {
    // ‡§Ø‡§¶‡§ø ‡§Ø‡§π ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§π‡•à, ‡§§‡•ã ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£ ‡§Æ‡•ã‡§° ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡•á‡§Ç
    if (suggestion === "‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§£") {
      setAssessmentMode(true);
      setCurrentAssessmentQuestion(0);
      setAssessmentAnswers([]);
      
      const newMessage = {
        id: messages.length + 1,
        sender: 'user',
        text: suggestion,
        timestamp: new Date()
      };
      
      setMessages([...messages, newMessage]);
      setIsTyping(true);
      
      setTimeout(() => {
        setMessages(prev => [...prev, {
          id: prev.length + 1,
          sender: 'counselor',
          text: "‡§Æ‡•à‡§Ç ‡§Ü‡§™‡§ï‡•á ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§ï‡§æ ‡§Ü‡§ï‡§≤‡§® ‡§ï‡§∞‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡§æ ‡§π‡•Ç‡§Å‡•§ ‡§Ø‡§π ‡§è‡§ï ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡§æ‡§Ç‡§ï‡§® ‡§π‡•à ‡§î‡§∞ ‡§á‡§∏‡§ï‡§æ ‡§â‡§¶‡•ç‡§¶‡•á‡§∂‡•ç‡§Ø ‡§ï‡•á‡§µ‡§≤ ‡§ú‡§æ‡§®‡§ï‡§æ‡§∞‡•Ä ‡§™‡•ç‡§∞‡§¶‡§æ‡§® ‡§ï‡§∞‡§®‡§æ ‡§π‡•à‡•§\n\n‡§™‡§π‡§≤‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§®: " + assessmentQuestions[0] + "\n\n‡§µ‡§ø‡§ï‡§≤‡•ç‡§™:\n1. ‡§¨‡§ø‡§≤‡•ç‡§ï‡•Å‡§≤ ‡§®‡§π‡•Ä‡§Ç\n2. ‡§ï‡§à ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç\n3. ‡§Ü‡§ß‡•á ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç\n4. ‡§≤‡§ó‡§≠‡§ó ‡§π‡§∞ ‡§¶‡§ø‡§®",
          timestamp: new Date()
        }]);
        setIsTyping(false);
      }, 1500);
    } else {
      setInputMessage(suggestion);
    }
  };

  const handleAssessmentAnswer = (answer) => {
    // ‡§â‡§§‡•ç‡§§‡§∞ ‡§∏‡§π‡•á‡§ú‡•á‡§Ç
    const newAnswers = [...assessmentAnswers, answer];
    setAssessmentAnswers(newAnswers);
    
    // ‡§Ø‡§¶‡§ø ‡§Ø‡§π ‡§Ö‡§Ç‡§§‡§ø‡§Æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§•‡§æ, ‡§§‡•ã ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§¶‡§ø‡§ñ‡§æ‡§è‡§Ç
    if (currentAssessmentQuestion === assessmentQuestions.length - 1) {
      // ‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç (‡§∏‡§∞‡§≤‡•Ä‡§ï‡•É‡§§)
      const score = newAnswers.reduce((sum, ans) => sum + parseInt(ans), 0);
      let resultText = "";
      
      if (score <= 5) {
        resultText = "‡§Ü‡§™‡§ï‡•á ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§ï‡•Ä ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§Ö‡§ö‡•ç‡§õ‡•Ä ‡§™‡•ç‡§∞‡§§‡•Ä‡§§ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§ ‡§´‡§ø‡§∞ ‡§≠‡•Ä, ‡§Ö‡§™‡§®‡•á ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§ï‡§æ ‡§ß‡•ç‡§Ø‡§æ‡§® ‡§∞‡§ñ‡§®‡§æ ‡§Æ‡§π‡§§‡•ç‡§µ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§π‡•à‡•§";
      } else if (score <= 10) {
        resultText = "‡§Ü‡§™‡§ï‡•ã ‡§π‡§≤‡•ç‡§ï‡•á ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§≤‡§ï‡•ç‡§∑‡§£ ‡§π‡•ã ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§ß‡•ç‡§Ø‡§æ‡§®, ‡§µ‡•ç‡§Ø‡§æ‡§Ø‡§æ‡§Æ ‡§î‡§∞ ‡§∏‡§æ‡§Æ‡§æ‡§ú‡§ø‡§ï ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§Æ‡•á‡§Ç ‡§∞‡§π‡§®‡•á ‡§Æ‡•á‡§Ç ‡§Æ‡§¶‡§¶ ‡§Æ‡§ø‡§≤ ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à‡•§";
      } else if (score <= 15) {
        resultText = "‡§Ü‡§™‡§ï‡•ã ‡§Æ‡§ß‡•ç‡§Ø‡§Æ ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§≤‡§ï‡•ç‡§∑‡§£ ‡§π‡•ã ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§è‡§ï ‡§™‡•á‡§∂‡•á‡§µ‡§∞ ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ ‡§µ‡§ø‡§ö‡§æ‡§∞ ‡§ï‡§∞‡•á‡§Ç‡•§";
      } else {
        resultText = "‡§Ü‡§™‡§ï‡•ã ‡§ó‡§Ç‡§≠‡•Ä‡§∞ ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§≤‡§ï‡•ç‡§∑‡§£ ‡§π‡•ã ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§ ‡§ï‡•É‡§™‡§Ø‡§æ ‡§ú‡§≤‡•ç‡§¶ ‡§∏‡•á ‡§ú‡§≤‡•ç‡§¶ ‡§è‡§ï ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§™‡•á‡§∂‡•á‡§µ‡§∞ ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§";
      }
      
      const newMessage = {
        id: messages.length + 1,
        sender: 'user',
        text: answer,
        timestamp: new Date()
      };
      
      setMessages([...messages, newMessage]);
      setIsTyping(true);
      
      setTimeout(() => {
        setMessages(prev => [...prev, {
          id: prev.length + 1,
          sender: 'counselor',
          text: "‡§ß‡§®‡•ç‡§Ø‡§µ‡§æ‡§¶ ‡§ï‡§ø ‡§Ü‡§™‡§®‡•á ‡§Ø‡§π ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡§æ‡§Ç‡§ï‡§® ‡§™‡•Ç‡§∞‡§æ ‡§ï‡§ø‡§Ø‡§æ‡•§\n\n‡§Ü‡§™‡§ï‡•á ‡§â‡§§‡•ç‡§§‡§∞‡•ã‡§Ç ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞:\n\n" + resultText + "\n\n‡§Ø‡§æ‡§¶ ‡§∞‡§ñ‡•á‡§Ç, ‡§Ø‡§π ‡§ï‡•á‡§µ‡§≤ ‡§è‡§ï ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§Æ‡•Ç‡§≤‡•ç‡§Ø‡§æ‡§Ç‡§ï‡§® ‡§π‡•à ‡§î‡§∞ ‡§á‡§∏‡§ï‡•Ä ‡§ú‡§ó‡§π ‡§™‡•á‡§∂‡•á‡§µ‡§∞ ‡§∏‡§≤‡§æ‡§π ‡§®‡§π‡•Ä‡§Ç ‡§≤‡•á ‡§∏‡§ï‡§§‡§æ‡•§ ‡§Ø‡§¶‡§ø ‡§Ü‡§™ ‡§ö‡§ø‡§Ç‡§§‡§ø‡§§ ‡§π‡•à‡§Ç, ‡§§‡•ã ‡§ï‡•É‡§™‡§Ø‡§æ ‡§è‡§ï ‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§™‡•á‡§∂‡•á‡§µ‡§∞ ‡§∏‡•á ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§ï‡§∞‡•á‡§Ç‡•§\n\n‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§á‡§∏ ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§î‡§∞ ‡§ú‡§æ‡§®‡§®‡§æ ‡§ö‡§æ‡§π‡•á‡§Ç‡§ó‡•á?",
          timestamp: new Date()
        }]);
        setIsTyping(false);
        setAssessmentMode(false);
        setShowAssessmentResult(true);
      }, 1500);
    } else {
      // ‡§Ö‡§ó‡§≤‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§™‡•Ç‡§õ‡•á‡§Ç
      const nextQuestion = currentAssessmentQuestion + 1;
      
      const newMessage = {
        id: messages.length + 1,
        sender: 'user',
        text: answer,
        timestamp: new Date()
      };
      
      setMessages([...messages, newMessage]);
      setIsTyping(true);
      
      setTimeout(() => {
        setMessages(prev => [...prev, {
          id: prev.length + 1,
          sender: 'counselor',
          text: "‡§Ö‡§ó‡§≤‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§®: " + assessmentQuestions[nextQuestion] + "\n\n‡§µ‡§ø‡§ï‡§≤‡•ç‡§™:\n1. ‡§¨‡§ø‡§≤‡•ç‡§ï‡•Å‡§≤ ‡§®‡§π‡•Ä‡§Ç\n2. ‡§ï‡§à ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç\n3. ‡§Ü‡§ß‡•á ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç\n4. ‡§≤‡§ó‡§≠‡§ó ‡§π‡§∞ ‡§¶‡§ø‡§®",
          timestamp: new Date()
        }]);
        setIsTyping(false);
        setCurrentAssessmentQuestion(nextQuestion);
      }, 1500);
    }
  };

  const formatTime = (date) => {
    return date.toLocaleTimeString('hi-IN', { 
      hour: '2-digit', 
      minute: '2-digit' 
    });
  };

  return (
    <div style={{
      fontFamily: "'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",
      background: 'linear-gradient(135deg, #e3f2fd 0%, #f3e5f5 50%, #e8f5e8 100%)',
      minHeight: '100vh',
      display: 'flex',
      flexDirection: 'column'
    }}>
      {/* Header */}
      <div style={{
        background: 'linear-gradient(90deg, #6a11cb, #2575fc)',
        color: 'white',
        padding: '15px 20px',
        display: 'flex',
        alignItems: 'center',
        boxShadow: '0 2px 10px rgba(0,0,0,0.1)'
      }}>
        <button
          onClick={() => navigate('/')}
          style={{
            background: 'none',
            border: 'none',
            color: 'white',
            fontSize: '1.5rem',
            marginRight: '15px',
            cursor: 'pointer'
          }}
        >
          ‚Üê
        </button>
        <div style={{
          display: 'flex',
          alignItems: 'center'
        }}>
          <div style={{
            width: '40px',
            height: '40px',
            borderRadius: '50%',
            background: 'rgba(255,255,255,0.2)',
            display: 'flex',
            alignItems: 'center',
            justifyContent: 'center',
            marginRight: '15px'
          }}>
            üí¨
          </div>
          <div>
            <h2 style={{ margin: 0, fontSize: '1.2rem' }}>‡§Æ‡§æ‡§®‡§∏‡§ø‡§ï ‡§∏‡•ç‡§µ‡§æ‡§∏‡•ç‡§•‡•ç‡§Ø ‡§∏‡§Æ‡§∞‡•ç‡§•‡§®</h2>
            <p style={{ margin: 0, fontSize: '0.8rem', opacity: 0.8 }}>‡§ë‡§®‡§≤‡§æ‡§á‡§® ‚Ä¢ ‡§Ö‡§≠‡•Ä ‡§â‡§™‡§≤‡§¨‡•ç‡§ß</p>
          </div>
        </div>
      </div>

      {/* Chat Messages */}
      <div style={{
        flex: 1,
        padding: '20px',
        overflowY: 'auto',
        display: 'flex',
        flexDirection: 'column'
      }}>
        {messages.map(message => (
          <div
            key={message.id}
            style={{
              display: 'flex',
              marginBottom: '15px',
              justifyContent: message.sender === 'user' ? 'flex-end' : 'flex-start'
            }}
          >
            <div style={{
              maxWidth: '70%',
              display: 'flex',
              flexDirection: 'column'
            }}>
              <div style={{
                padding: '12px 15px',
                borderRadius: '18px',
                background: message.sender === 'user' 
                  ? 'linear-gradient(45deg, #6a11cb, #2575fc)' 
                  : 'white',
                color: message.sender === 'user' ? 'white' : '#333',
                boxShadow: '0 2px 5px rgba(0,0,0,0.1)',
                whiteSpace: 'pre-wrap',
                lineHeight: '1.4'
              }}>
                {message.text}
              </div>
              <div style={{
                fontSize: '0.7rem',
                color: '#888',
                marginTop: '4px',
                textAlign: message.sender === 'user' ? 'right' : 'left'
              }}>
                {formatTime(message.timestamp)}
              </div>
            </div>
          </div>
        ))}
        
        {isTyping && (
          <div style={{
            display: 'flex',
            marginBottom: '15px'
          }}>
            <div style={{
              maxWidth: '70%',
              padding: '12px 15px',
              borderRadius: '18px',
              background: 'white',
              color: '#333',
              boxShadow: '0 2px 5px rgba(0,0,0,0.1)'
            }}>
              <div style={{ display: 'flex' }}>
                <div className="typing-dot" style={{
                  width: '8px',
                  height: '8px',
                  borderRadius: '50%',
                  background: '#999',
                  margin: '0 2px',
                  animation: 'typing 1.4s infinite'
                }}></div>
                <div className="typing-dot" style={{
                  width: '8px',
                  height: '8px',
                  borderRadius: '50%',
                  background: '#999',
                  margin: '0 2px',
                  animation: 'typing 1.4s infinite 0.2s'
                }}></div>
                <div className="typing-dot" style={{
                  width: '8px',
                  height: '8px',
                  borderRadius: '50%',
                  background: '#999',
                  margin: '0 2px',
                  animation: 'typing 1.4s infinite 0.4s'
                }}></div>
              </div>
            </div>
          </div>
        )}
        <div ref={messagesEndRef} />
      </div>

      {/* Assessment Options */}
      {assessmentMode && (
        <div style={{
          padding: '15px',
          background: 'rgba(255,255,255,0.9)',
          borderTop: '1px solid #eee'
        }}>
          <p style={{ margin: '0 0 10px 0', fontSize: '0.9rem', fontWeight: 'bold' }}>
            ‡§ï‡•É‡§™‡§Ø‡§æ ‡§â‡§§‡•ç‡§§‡§∞ ‡§ö‡•Å‡§®‡•á‡§Ç:
          </p>
          <div style={{
            display: 'flex',
            flexWrap: 'wrap',
            gap: '10px'
          }}>
            <button
              onClick={() => handleAssessmentAnswer('1')}
              style={{
                background: 'rgba(102, 126, 234, 0.1)',
                border: '1px solid rgba(102, 126, 234, 0.3)',
                borderRadius: '20px',
                padding: '8px 15px',
                fontSize: '0.9rem',
                cursor: 'pointer'
              }}
            >
              ‡§¨‡§ø‡§≤‡•ç‡§ï‡•Å‡§≤ ‡§®‡§π‡•Ä‡§Ç
            </button>
            <button
              onClick={() => handleAssessmentAnswer('2')}
              style={{
                background: 'rgba(102, 126, 234, 0.1)',
                border: '1px solid rgba(102, 126, 234, 0.3)',
                borderRadius: '20px',
                padding: '8px 15px',
                fontSize: '0.9rem',
                cursor: 'pointer'
              }}
            >
              ‡§ï‡§à ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç
            </button>
            <button
              onClick={() => handleAssessmentAnswer('3')}
              style={{
                background: 'rgba(102, 126, 234, 0.1)',
                border: '1px solid rgba(102, 126, 234, 0.3)',
                borderRadius: '20px',
                padding: '8px 15px',
                fontSize: '0.9rem',
                cursor: 'pointer'
              }}
            >
              ‡§Ü‡§ß‡•á ‡§∏‡•á ‡§Ö‡§ß‡§ø‡§ï ‡§¶‡§ø‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç
            </button>
            <button
              onClick={() => handleAssessmentAnswer('4')}
              style={{
                background: 'rgba(102, 126, 234, 0.1)',
                border: '1px solid rgba(102, 126, 234, 0.3)',
                borderRadius: '20px',
                padding: '8px 15px',
                fontSize: '0.9rem',
                cursor: 'pointer'
              }}
            >
              ‡§≤‡§ó‡§≠‡§ó ‡§π‡§∞ ‡§¶‡§ø‡§®
            </button>
          </div>
        </div>
      )}

      {/* Suggestions */}
      {!assessmentMode && (
        <div style={{
          padding: '10px 20px',
          background: 'rgba(255,255,255,0.7)',
          borderTop: '1px solid #eee'
        }}>
          <div style={{
            display: 'flex',
            overflowX: 'auto',
            gap: '10px',
            paddingBottom: '5px'
          }}>
            {suggestions.map((suggestion, index) => (
              <button
                key={index}
                onClick={() => handleSuggestionClick(suggestion)}
                style={{
                  background: 'rgba(102, 126, 234, 0.1)',
                  border: '1px solid rgba(102, 126, 234, 0.3)',
                  borderRadius: '20px',
                  padding: '5px 12px',
                  fontSize: '0.8rem',
                  whiteSpace: 'nowrap',
                  cursor: 'pointer'
                }}
              >
                {suggestion}
              </button>
            ))}
          </div>
        </div>
      )}

      {/* Input Area */}
      {!assessmentMode && (
        <form onSubmit={handleSendMessage} style={{
          display: 'flex',
          padding: '15px',
          background: 'white',
          borderTop: '1px solid #eee'
        }}>
          <input
            type="text"
            value={inputMessage}
            onChange={(e) => setInputMessage(e.target.value)}
            placeholder="‡§Ö‡§™‡§®‡§æ ‡§∏‡§Ç‡§¶‡•á‡§∂ ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡•á‡§Ç..."
            style={{
              flex: 1,
              padding: '12px 15px',
              border: '1px solid #ddd',
              borderRadius: '25px',
              outline: 'none',
              fontSize: '1rem'
            }}
          />
          <button
            type="submit"
            style={{
              background: 'linear-gradient(45deg, #6a11cb, #2575fc)',
              color: 'white',
              border: 'none',
              borderRadius: '50%',
              width: '45px',
              height: '45px',
              marginLeft: '10px',
              cursor: 'pointer',
              display: 'flex',
              alignItems: 'center',
              justifyContent: 'center'
            }}
          >
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
              <line x1="22" y1="2" x2="11" y2="13"></line>
              <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
          </button>
        </form>
      )}

      <style jsx>{`
        @keyframes typing {
          0%, 60%, 100% {
            transform: translateY(0);
          }
          30% {
            transform: translateY(-10px);
          }
        }
        
        /* Hide scrollbar for suggestions */
        div::-webkit-scrollbar {
          display: none;
        }
        
        div {
          -ms-overflow-style: none;
          scrollbar-width: none;
        }
      `}</style>
    </div>
  );
};

export default ChatPage;